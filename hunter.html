<!DOCTYPE html>
<html>
    <head>
        <title>Hunter Lab07</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" 
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" 
        integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
      
    </head>
    <body>
        <h2>Find the mouse by Ganga Prasanna Mogaparthi</h2>
        <p>Click on the bushes to search for the mouse, beware the cat</p>
        <p id="bushes" class="text-primary">Number of bushes checked is zero</p>
        <p id="penaltyId" class="text-primary">Penalty is zero.</p>
        <p class="text-info" onclick="help()">Click for help.</p>
        <p id="help" class="text-info">Help report</p>
        <div><button onclick="bonus()">Bonus</button></div>
        <div class="container row">
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image0" onclick="check(0)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image1" onclick="check(1)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image2" onclick="check(2)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image3" onclick="check(3)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image4" onclick="check(4)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Bush Image" height="150" width="150" id="image5" onclick="check(5)">
            </div>
        </div>

        <div class="container row">
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image6" onclick="check(6)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image7" onclick="check(7)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image8" onclick="check(8)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image9" onclick="check(9)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image10" onclick="check(10)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Grass Image" height="150" width="150" id="image11" onclick="check(11)">
            </div>        
        </div>
        <div class="container row">
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image" height="150" width="150" id="image12" onclick="check(12)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image"  onclick="check(13)" height="150" width="150" id="image13">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image" height="150" width="150" id="image14" onclick="check(14)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image" height="150" width="150" id="image15" onclick="check(15)">
            </div> 
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image" height="150" width="150" id="image16" onclick="check(16)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="Mouse Image" height="150" width="150" id="image17" onclick="check(17)">
            </div>       
        </div>
        <div class="container row">
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image18" onclick="check(18)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image19" onclick="check(19)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image20" onclick="check(20)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image21" onclick="check(21)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image22" onclick="check(22)">
            </div>
            <div class="col-sm-2">
                <img src="bush.jpg" alt="bigCat Image" height="150" width="150" id="image23" onclick="check(23)">
            </div>
        </div>                        
        <script>
            let id='image';
            let ids = [];
            for(let i=0;i<=23;i++){
                ids[i]=id+i;
            }
            let checkCount = 0;
            let penalty = 0;
            let lastCheck = 0;
            let mouseLocation = 13;
            let catLocation = 21;
            let gameOver = false;
            function check(position){
                if(gameOver==true){

                }
                else {
                    if(position==mouseLocation){
                        id=ids[position];
                        document.getElementById(id).src="mouse.png";
                        gameOver=true;
                        penalty-=3;

                    }
                    else if(position==catLocation){
                        id=ids[position];
                        document.getElementById(id).src="bigCat.jpg";
                        gameOver=true;
                        penalty+=4;
                    }
                    else{
                        id=ids[position];
                        document.getElementById(id).src="grass.jpg";
                        checkCount+=1;
                        penalty+=1;
                    }
                    lastCheck=position;

                } 
                bushes.innerHTML="Number of bushes checked is "+checkCount;
                penaltyId.innerHTML="Penalty is "+penalty;  
                console.log("lastCheck"+lastCheck)
            }
            function help(){
                let column = (lastCheck)%6;
                let row = Math.floor((lastCheck)/6);
                let catCol = catLocation%6;
                let catRow = Math.floor(catLocation/6);
                let mouseCol=mouseLocation%6;
                let mouseRow=Math.floor(mouseLocation/6);
                let diffMouseCol = Math.abs(column-mouseCol);
                let diffMouseRow = Math.abs(row-mouseRow);
                let diffCatCol = Math.abs(column-catCol);
                let diffCatRow = Math.abs(row-catRow);
                if(diffMouseCol <=1 && diffMouseRow<=1){
                    document.getElementById("help").innerHTML="squeak";
                    penalty+=2
                    penaltyId.innerHTML="Penalty is "+penalty;  
                }
                else if(diffCatCol <=1 && diffCatRow<=1){
                    console.log(diffCatRow,diffCatCol)
                    document.getElementById("help").innerHTML="meow";
                    penalty+=2
                    penaltyId.innerHTML="Penalty is "+penalty;  
                }
                else{
                    document.getElementById("help").innerHTML="sorry, no help available";
                    penalty+=2
                    penaltyId.innerHTML="Penalty is "+penalty;  
                }
            }
            function bonus(){
                checkCount = 0;
                penalty = 0; 
                mouseLocation = Math.floor(Math.random()*(23-0+1),0)
                catLocation = Math.floor(Math.random()*(23-0+1),0)
                penaltyId.innerHTML="Penalty is "+penalty; 
                bushes.innerHTML="Number of bushes checked is "+checkCount;
            }

        </script>
    </body>
</html>